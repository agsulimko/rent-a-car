"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[199],{5199:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(9439),r=a(2791),s=a(4420),l=a(7801),i=a(6351),c=a(3433),o=a(4372),u=a(4670),d=a(7323),m=a(718),h=a(184),p=function(e){var t=e.cart,a=e.index,n=e.toggleFavorites,r=e.favorites,s=e.handleLearnMore;return(0,h.jsxs)(u.Ss,{className:"cards-item","data-category":t.category,"data-aos":"flip-left","data-aos-duration":"1000",children:[(0,h.jsxs)("picture",{children:[(0,h.jsx)("source",{srcSet:t.make,type:"image/webp"}),(0,h.jsx)("source",{srcSet:t.make,type:"image/jpeg"}),(0,h.jsx)(u.oM,{children:(0,h.jsx)(u.Ei,{src:t.img,width:"401",height:"268",alt:t.make,className:"card-img",loading:"lazy"})})]}),(0,h.jsx)("div",{className:"test-div",children:(0,h.jsx)(u.Lo,{type:"button",className:"btn-heard-icone",onClick:function(){return n(t.id)},children:r.includes(t.id)?(0,h.jsx)(u.vG,{children:(0,h.jsx)("use",{href:"".concat(d.Z,"#icon-heard_active")})}):(0,h.jsx)(u.AD,{children:(0,h.jsx)("use",{href:"".concat(d.Z,"#icon-heard")})})})}),(0,h.jsxs)(u.Gd,{className:"DivTitle",children:[(0,h.jsxs)(u.PQ,{className:"cards-item-title",children:[t.make,t.model.length<8&&(0,h.jsxs)(u.yo,{children:[" ",t.model]}),", ",t.year]}),(0,h.jsx)(u.jp,{children:t.rentalPrice})]}),(0,h.jsxs)(u.lT,{className:"div-text-info",children:[(0,h.jsxs)(u.xS,{className:"DivFirst ",children:[(0,h.jsx)("p",{className:"City",children:t.address.split(",")[1].trim().split(" ")[0]}),(0,h.jsx)(u.OW,{}),(0,h.jsx)("p",{className:"Country",children:t.address.split(",").slice(2).join(",").trim().split(" ")[0]}),(0,h.jsx)(u.OW,{}),(0,h.jsx)("p",{className:"rentalCompany",children:t.rentalCompany}),t.rentalCompany.length<19&&(0,h.jsx)(u.OW,{}),t.rentalCompany.length<19&&(0,h.jsx)("p",{className:"Class auto",children:t.accessories.map((function(e){return e.toLowerCase().includes("premium")?"Premium":""})).find((function(e){return"Premium"===e}))||""})]}),(0,h.jsxs)(u.pZ,{className:"DivSecond ",children:[(0,h.jsxs)("p",{children:[" ",t.type," "]}),(0,h.jsx)(u.OW,{}),(0,h.jsxs)("p",{children:[" ",t.make," "]}),(0,h.jsx)(u.OW,{}),(0,h.jsxs)("p",{children:[" ",t.id," "]}),t.type.length<6&&(0,h.jsx)(u.OW,{}),t.type.length<6&&(0,h.jsx)("p",{children:t.accessories.map((function(e){var t=m.Z.find((function(t){return e.toLowerCase().includes(t.toLowerCase())}));return t?t.charAt(0).toUpperCase()+t.slice(1):""})).filter(Boolean)[0]||""})]})]}),(0,h.jsx)(u.Q5,{type:"button",className:"cards-item-btn","aria-label":"Open modal Learn more",id:t.id,onClick:function(){s(t.id)},children:"Learn more"})]},a)},g=function(e){var t=e.arrayMake,a=e.arrayRentalPrice,s=e.arrayMileageFrom,l=e.arrayMileageTo,i=e.selectMake,d=e.selectRentalPrice,m=(e.selectArrayMake,e.selectMileageFrom,e.selectMileageTo,e.adverts),g=e.handleLoadMore,f=e.handleLearnMore,x=e.handleReloadComponent,j=e.currentPage,v=(e.handleResetSelects,e.handlePageChangeAutos),y=(e.handleLoadMoreAutos,e.currentItemsAuto),N=e.currentPageAutos,b=e.handleReloadComponentAutos,S=(0,r.useState)(JSON.parse(localStorage.getItem("favorites"))||[]),C=(0,n.Z)(S,2),k=C[0],P=C[1],M=function(e){var t=k.includes(e)?k.filter((function(t){return t!==e})):[].concat((0,c.Z)(k),[e]);P(t),localStorage.setItem("favorites",JSON.stringify(t))},Z=0===a.length&&d||0===t&&i?[]:y.filter((function(e){return(!a.length||a.includes(e.id))&&(!s.length||s.includes(e.id))&&(!l.length||l.includes(e.id))}));return s.length||l.length||d||i?(0,h.jsx)(o.W,{children:(0,h.jsxs)("div",{className:"div-cards-list",children:[(0,h.jsx)(u.CS,{className:"cards-list",children:Z.map((function(e,t){return(0,h.jsx)(p,{cart:e,toggleFavorites:M,favorites:k,handleLearnMore:f},t)}))})," ",N>1&&(0,h.jsx)(u.J4,{onClick:function(){b()},children:"To up \u21c8"}),Z.length>=0&&Z.length>=12&&(0,h.jsx)(u.t,{type:"button",className:"cards-item-btn",onClick:function(){return v(N+1)},children:"Load more \u21ca"})]})}):(0,h.jsx)(o.W,{children:(0,h.jsxs)("div",{className:"div-cards-list",children:[(0,h.jsx)(u.CS,{className:"cards-list",children:m.map((function(e,t){return(0,h.jsx)(p,{cart:e,toggleFavorites:M,favorites:k,handleLearnMore:f},t)}))}),j>1&&(0,h.jsx)(u.J4,{onClick:function(){x()},children:"To up \u21c8"}),m.length>0&&m.length>=12&&(0,h.jsx)(u.t,{type:"button",className:"cards-item-btn",onClick:function(){g()},children:"Load more \u21ca"})]})})},f=a(6608),x=a(1955),j=a(5218),v=Array.from({length:100},(function(e,t){return 10*(t+1)})),y=function(e){var t=e.handleMake,a=e.handleRentalPrice,l=e.handleMileageFrom,c=e.handleMileageTo,o=e.handleResetArrays,u=(e.handleResetRentalPrice,(0,r.useState)("")),d=(0,n.Z)(u,2),m=d[0],p=d[1],g=(0,r.useState)(""),y=(0,n.Z)(g,2),N=y[0],b=y[1],S=(0,r.useState)(""),C=(0,n.Z)(S,2),k=C[0],P=C[1],M=(0,r.useState)(""),Z=(0,n.Z)(M,2),A=Z[0],R=Z[1];(0,s.v9)(i.OG);return(0,h.jsxs)(f.l0,{className:"form",children:[(0,h.jsxs)(f.__,{className:"label",children:["Car brand",(0,h.jsxs)(f.mB,{type:"text",name:"Car brand",placeholder:"Enter the text",className:"input-SelectBrand-make",value:m,onChange:function(e){!function(e){var t=e.target.value;p(t)}(e)},style:{margin:0,padding:10,border:"1px solid initial"},children:[(0,h.jsx)("option",{value:"",children:"Enter the text"}),x.Z.map((function(e,t){return(0,h.jsx)("option",{value:e,children:e},t)}))]})]}),(0,h.jsxs)(f.__,{className:"label",children:["Price/1 day",(0,h.jsxs)(f.sb,{type:"number",name:"Price/1 hour",placeholder:"To $",className:"input-SelectPrice-rentalPrice",value:N,onChange:function(e){!function(e){var t=Number(e.target.value);b(t)}(e)},style:{margin:0,padding:10,border:"1px solid initial"},children:[(0,h.jsx)("option",{value:"",children:"To $"}),v.map((function(e,t){return(0,h.jsx)("option",{value:e,children:e},t)}))]})]}),(0,h.jsxs)(f.yc,{children:[(0,h.jsxs)(f.__,{className:"label",children:["Car mileage / km",(0,h.jsx)(f.gv,{type:"number",pattern:"[0-9]*",name:"Car mileage / km",placeholder:"From",className:"input-mileage-From",style:{opacity:1,color:"black",border:"1px solid initial"},value:k,onChange:function(e){!function(e){var t=Number(e.target.value);P(t)}(e)}})]}),(0,h.jsx)(f.__,{className:"label",children:(0,h.jsx)(f.pq,{type:"number",pattern:"[0-9]*",name:"Car mileage / km",placeholder:"To",className:"input-mileage-To",value:A,onChange:function(e){!function(e){var t=Number(e.target.value);R(t)}(e)},style:{opacity:1,color:"black",border:"1px solid initial"}})})]}),(0,h.jsx)(f.ce,{className:"btn",type:"button",onClick:function(e){e.preventDefault(),m||N||k||k||A?Number(k)>Number(A)?j.ZP.error("From must be less than TO,choose other mileage values!",{duration:3e3,position:"top-center"}):(t(m),a(N),l(k,A),c(A,k)):j.ZP.error("Nothing found, please make a new request!",{duration:3e3,position:"top-center"})},children:"Search"}),(0,h.jsx)(f.h3,{className:"btn",type:"button",onClick:function(e){!function(e){e.preventDefault(),t(""),a(""),l(""),c(""),p(""),b(""),P(""),R(""),o()}(e)},children:"Reset Filters"})]})},N=a(8998),b=function(e,t){var a=(0,s.I0)(),c=(0,s.v9)(i.OG)||[],u=(0,s.v9)(i.o9)||[],d=(0,r.useState)(""),m=(0,n.Z)(d,2),p=m[0],f=m[1],x=(0,r.useState)([]),j=(0,n.Z)(x,2),v=j[0],b=j[1],S=(0,r.useState)([]),C=(0,n.Z)(S,2),k=C[0],P=C[1],M=(0,r.useState)([]),Z=(0,n.Z)(M,2),A=Z[0],R=Z[1],I=(0,r.useState)(0),L=(0,n.Z)(I,2),T=L[0],F=L[1],O=(0,r.useState)(0),_=(0,n.Z)(O,2),w=_[0],W=_[1],E=(0,r.useState)(""),D=(0,n.Z)(E,2),G=D[0],J=D[1],q=(0,r.useState)(parseInt(localStorage.getItem("currentPage"),10)||1),B=(0,n.Z)(q,2),Q=B[0],$=B[1],z=(0,r.useState)(parseInt(localStorage.getItem("currentPageAutos"),10)||1),U=(0,n.Z)(z,2),H=U[0],K=U[1],V=(0,r.useState)(null),X=(0,n.Z)(V,2),Y=X[0],ee=X[1],te=(0,r.useState)(!1),ae=(0,n.Z)(te,2),ne=ae[0],re=ae[1],se=(0,r.useState)(!1),le=(0,n.Z)(se,2),ie=le[0],ce=le[1],oe=(0,r.useState)(!1),ue=(0,n.Z)(oe,2),de=ue[0],me=ue[1];(0,r.useEffect)((function(){a((0,l.GA)({page:Q}))}),[a,Q,ie]),(0,r.useEffect)((function(){a((0,l.qZ)({make:p}))}),[a,p,H,de]);var he=12*H,pe=he-12,ge=u.slice(pe,he),fe=12*Q,xe=fe-12,je=c.slice(xe,fe);(0,r.useEffect)((function(){K(1),localStorage.setItem("currentPageAutos",1)}),[]);e=function(){t(),R([]),P([]),J("")},t=function(){b("")};var ve=function(){ce((function(e){return!e})),$(1),localStorage.setItem("currentPage",1)};return(0,h.jsxs)(o.W,{children:[(0,h.jsx)(y,{handleMake:function(e){f(e)},handleRentalPrice:function(e,t,a,n){var r=[];J(e),u.forEach((function(t){Number(t.rentalPrice.slice(1))<=e&&r.push(t.id)})),b(r)},handleMileageFrom:function(e,t){W(e),F(t),e>t&&P([])},handleMileageTo:function(e,t){if(W(t),F(e),Number(t)>Number(e))P([]);else{var a=u.filter((function(t){return Number(t.mileage)<=Number(e)})).map((function(e){return e.id}));!t||t?R(a||[]):Number(t)>Number(e)&&R([])}},handleResetArrays:e,handleReloadAdverts:function(){a((0,l.GA)({page:1}))},handleReloadComponent:ve,handleResetRentalPrice:t}),(0,h.jsx)(g,{currentItemsAuto:ge,adverts:c,handleLoadMore:function(){$((function(e){var t=e+1;return localStorage.setItem("currentPage",t),t}))},handleLearnMore:function(e){ee(e),re(!0)},handleReloadComponent:ve,currentPage:Q,currentPageAutos:H,arrayRentalPrice:v,arrayMileageTo:A,arrayMileageFrom:k,selectMake:p,selectMileageFrom:w,selectMileageTo:T,selectRentalPrice:G,handlePageChangeAutos:function(e){K(e),localStorage.setItem("currentPageAutos",e)},handleLoadMoreAutos:function(){K((function(e){var t=e+1;return K(t),localStorage.setItem("currentPageAutos",t),t}))},handleReloadComponentAutos:function(){me((function(e){return!e})),K(1),localStorage.setItem("currentPageAutos",1)}}),(0,h.jsx)(N.Z,{isOpen:ne,closeModal:function(){return re(!1)},currentItems:je,currentItemsAuto:ge,selectedItemId:Y})]})}}}]);
//# sourceMappingURL=199.24d00d33.chunk.js.map