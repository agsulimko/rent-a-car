"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[108],{3108:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var n=t(9439),r=t(2791),s=t(4420),l=t(7801),i=t(6351),c=t(3433),o=t(4372),d=t(5474),u=t(7323),m=t(718),h=t(184),f=function(e){var a=e.cart,t=e.index,n=e.toggleFavorites,r=e.favorites,s=e.handleLearnMore;return(0,h.jsxs)(d.Ss,{className:"cards-item","data-category":a.category,"data-aos":"flip-left","data-aos-duration":"1000",children:[(0,h.jsxs)("picture",{children:[(0,h.jsx)("source",{srcSet:a.make,type:"image/webp"}),(0,h.jsx)("source",{srcSet:a.make,type:"image/jpeg"}),(0,h.jsx)(d.oM,{children:(0,h.jsx)(d.Ei,{src:a.img,width:"401",height:"268",alt:a.make,className:"card-img",loading:"lazy"})})]}),(0,h.jsx)("div",{className:"test-div",children:(0,h.jsx)(d.Lo,{type:"button",className:"btn-heard-icone",onClick:function(){return n(a.id)},children:r.includes(a.id)?(0,h.jsx)(d.vG,{children:(0,h.jsx)("use",{href:"".concat(u.Z,"#icon-heard_active")})}):(0,h.jsx)(d.AD,{children:(0,h.jsx)("use",{href:"".concat(u.Z,"#icon-heard")})})})}),(0,h.jsxs)(d.Gd,{className:"DivTitle",children:[(0,h.jsxs)(d.PQ,{className:"cards-item-title",children:[a.make,a.model.length<8&&(0,h.jsxs)(d.yo,{children:[" ",a.model]}),", ",a.year]}),(0,h.jsx)(d.jp,{children:a.rentalPrice})]}),(0,h.jsxs)(d.lT,{className:"div-text-info",children:[(0,h.jsxs)(d.xS,{className:"DivFirst ",children:[(0,h.jsx)("p",{className:"City",children:a.address.split(",")[1].trim().split(" ")[0]}),(0,h.jsx)(d.OW,{}),(0,h.jsx)("p",{className:"Country",children:a.address.split(",").slice(2).join(",").trim().split(" ")[0]}),(0,h.jsx)(d.OW,{}),(0,h.jsx)("p",{className:"rentalCompany",children:a.rentalCompany}),a.rentalCompany.length<19&&(0,h.jsx)(d.OW,{}),a.rentalCompany.length<19&&(0,h.jsx)("p",{className:"Class auto",children:a.accessories.map((function(e){return e.toLowerCase().includes("premium")?"Premium":""})).find((function(e){return"Premium"===e}))||""})]}),(0,h.jsxs)(d.pZ,{className:"DivSecond ",children:[(0,h.jsxs)("p",{children:[" ",a.type," "]}),(0,h.jsx)(d.OW,{}),(0,h.jsxs)("p",{children:[" ",a.make," "]}),(0,h.jsx)(d.OW,{}),(0,h.jsxs)("p",{children:[" ",a.id," "]}),a.type.length<6&&(0,h.jsx)(d.OW,{}),a.type.length<6&&(0,h.jsx)("p",{children:a.accessories.map((function(e){var a=m.Z.find((function(a){return e.toLowerCase().includes(a.toLowerCase())}));return a?a.charAt(0).toUpperCase()+a.slice(1):""})).filter(Boolean)[0]||""})]})]}),(0,h.jsx)(d.Q5,{type:"button",className:"cards-item-btn","aria-label":"Open modal Learn more",id:a.id,onClick:function(){s(a.id)},children:"Learn more"})]},t)},g=function(e){var a=e.arrayMake,t=e.arrayRentalPrice,l=e.arrayMileageFrom,u=e.arrayMileageTo,m=e.selectMake,g=e.selectRentalPrice,p=(e.selectArrayMake,e.selectMileageFrom,e.selectMileageTo,e.adverts),j=e.handleLoadMore,x=e.handleLearnMore,v=e.handleReloadComponent,y=e.currentPage,N=(e.handleResetSelects,(0,r.useState)(JSON.parse(localStorage.getItem("favorites"))||[])),S=(0,n.Z)(N,2),M=S[0],k=S[1],C=(0,s.v9)(i.o9)||[],P=function(e){var a=M.includes(e)?M.filter((function(a){return a!==e})):[].concat((0,c.Z)(M),[e]);k(a),localStorage.setItem("favorites",JSON.stringify(a))};console.log("selectRentalPrice=",g);var Z=0===t.length&&g||0===a&&m?[]:C.filter((function(e){return(!t.length||t.includes(e.id))&&(!l.length||l.includes(e.id))&&(!u.length||u.includes(e.id))}));return(0,h.jsx)(o.W,{children:(0,h.jsxs)("div",{className:"div-cards-list",children:[(0,h.jsx)(d.CS,{className:"cards-list",children:l.length||u.length||g||m?Z.map((function(e,a){return(0,h.jsx)(f,{cart:e,toggleFavorites:P,favorites:M,handleLearnMore:x},a)})):p.map((function(e,a){return(0,h.jsx)(f,{cart:e,toggleFavorites:P,favorites:M,handleLearnMore:x},a)}))}),y>1&&(0,h.jsx)(d.J4,{onClick:v,children:"To up \u21c8"}),p.length>0&&p.length>=12&&(0,h.jsx)(d.t,{type:"button",className:"cards-item-btn",onClick:j,children:"Load more \u21ca"})]})})},p=t(44),j=t(8998),x=function(e,a){var t=(0,s.I0)(),c=(0,s.v9)(i.OG)||[],d=(0,s.v9)(i.o9)||[],u=(0,r.useState)(""),m=(0,n.Z)(u,2),f=m[0],x=m[1],v=(0,r.useState)([]),y=(0,n.Z)(v,2),N=y[0],S=y[1],M=(0,r.useState)([]),k=(0,n.Z)(M,2),C=k[0],P=k[1],Z=(0,r.useState)([]),b=(0,n.Z)(Z,2),R=b[0],L=b[1],I=(0,r.useState)(0),O=(0,n.Z)(I,2),w=O[0],F=O[1],T=(0,r.useState)(0),W=(0,n.Z)(T,2),A=W[0],G=W[1],_=(0,r.useState)(""),D=(0,n.Z)(_,2),E=D[0],J=D[1],Q=(0,r.useState)(parseInt(localStorage.getItem("currentPage"),10)||1),q=(0,n.Z)(Q,2),z=q[0],B=q[1],U=(0,r.useState)(null),H=(0,n.Z)(U,2),K=H[0],V=H[1],X=(0,r.useState)(!1),Y=(0,n.Z)(X,2),$=Y[0],ee=Y[1],ae=(0,r.useState)(!1),te=(0,n.Z)(ae,2),ne=te[0],re=te[1];(0,r.useEffect)((function(){t((0,l.GA)({page:z}))}),[t,z,ne]),(0,r.useEffect)((function(){t((0,l.qZ)({make:f}))}),[t,f]);var se=12*z,le=se-12,ie=c.slice(le,se),ce=[];e=function(){S([]),L([]),P([]),J("")},a=function(){S([])};var oe=function(){re((function(e){return!e})),B(1),localStorage.removeItem("currentPage")};return(0,h.jsxs)(o.W,{children:[(0,h.jsx)(p.Z,{handleMake:function(e){console.log("iinputMake=",e),x(e)},handleRentalPrice:function(e,a,t,n){console.log("inputRentalPrice=",e),J(e),d.forEach((function(a){Number(a.rentalPrice.slice(1))<=e&&ce.push(a.id)})),S(ce),console.log("arrayIdRentalPrice=",N)},handleMileageFrom:function(e,a){G(e),F(a),e>a&&P([])},handleMileageTo:function(e,a){if(G(a),F(e),Number(a)>Number(e))P([]);else{var t=d.filter((function(a){return Number(a.mileage)<=Number(e)})).map((function(e){return e.id}));!a||a?L(t||[]):Number(a)>Number(e)&&L([])}},arrayIdRentalPrice:N,handleResetArrays:e,handleReloadAdverts:function(){t((0,l.GA)({page:1}))},handleReloadComponent:oe,handleResetRentalPrice:a}),(0,h.jsx)(g,{adverts:c,handleLoadMore:function(){B((function(e){var a=e+1;return localStorage.setItem("currentPage",a),a}))},handleLearnMore:function(e){V(e),ee(!0)},handleReloadComponent:oe,currentPage:z,arrayRentalPrice:N,arrayMileageTo:R,arrayMileageFrom:C,selectMake:f,selectMileageFrom:A,selectMileageTo:w,selectRentalPrice:E}),(0,h.jsx)(j.Z,{isOpen:$,closeModal:function(){return ee(!1)},currentItems:ie,selectedItemId:K})]})}}}]);
//# sourceMappingURL=108.495668d9.chunk.js.map